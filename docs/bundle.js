"use strict";function _(id){return document.getElementById(id)}var inputEl=document.querySelectorAll("input");inputEl.forEach(function(el){el.addEventListener("input",function(){el.value.trim();el.value.trim()===""||el.value===null?el.nextSibling.classList.remove("hidden"):el.nextSibling.classList.add("hidden")});el.addEventListener("invalid",function(e){e.preventDefault();!e.target.validity.valid?el.nextSibling.classList.remove("hidden"):el.nextSibling.classList.add("hidden")})});_("registration-form").addEventListener("submit",function(e){e.preventDefault();var bookmarks={username:_("username").value,surname:_("surname").value,age:_("age").value,email:_("email").value,message:_("message").value};if(_("username").value===""||_("surname").value===""||_("age").value===""||_("email").value===""){e.stopImmediatePropagation();alert("Please fill out the form with correct information ")}else{if(!localStorage.registeration){var storage=[];storage.push(bookmarks);localStorage.registeration=JSON.stringify(storage)}else{var storage=JSON.parse(localStorage.getItem("registeration"));storage.forEach(function(el){if(el.email!==_("email").value){storage.push(bookmarks);localStorage.registeration=JSON.stringify(storage);_("email").nextSibling.innerHTML="Insert a valid email";_("email").nextSibling.classList.add("hidden")}else{_("email").nextSibling.classList.remove("hidden");_("email").nextSibling.innerHTML="This email has been already taken"}})}}_("email").nextSibling.innerHTML="Insert a valid email";this.reset()});